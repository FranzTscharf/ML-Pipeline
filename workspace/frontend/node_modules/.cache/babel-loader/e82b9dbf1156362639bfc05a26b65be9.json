{"ast":null,"code":"var _jsxFileName = \"/Users/i504430/OneDrive - SAP SE/SAP/Masterarbeit/tensorflow/workspace/frontend/src/upload.jsx\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport * as UIkit from \"uikit\";\nimport Model_display from \"./model_display\";\nimport Model_correction from \"./model_correction\";\nconst styleObjFileElement = {\n  'max-width': '250px',\n  'white-space': 'nowrap',\n  'overflow': 'hidden',\n  'text-overflow': 'ellipsis'\n};\nconst styleObjNoContent = {\n  weight: '300px'\n};\nconst styleObj = {\n  padding: '30px'\n};\nvar filename;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    var myHeaders = new Headers();\n    var username = \"MLAAS_FRONTEND_USER\";\n    var password = \"NotUseMe4AnyThing&Else2\";\n    var authString = username + ':' + password;\n    myHeaders.append(\"Authorization\", \"Basic \" + btoa(authString));\n    var requestOptions = {\n      method: 'GET',\n      headers: myHeaders,\n      redirect: 'follow'\n    };\n    fetch(process.env.REACT_APP_API_HANA_DB_ODATA + \"?$format=json\", requestOptions).then(response => response.json()).then(result => this.setState({\n      data: result.d.results\n    })).catch(error => console.log('error', error));\n    var bar = document.getElementById('js-progressbar');\n    UIkit.upload('.js-upload', {\n      url: process.env.REACT_APP_API_GATEWAY_URL + 'gateway/document',\n      dataType: 'form-data',\n      name: 'file',\n      multiple: false,\n      allow: '*.(jpg|jpeg|gif|png|pdf)',\n      // allow only pdf and images\n      //funcitons executing during upload etc.\n      beforeSend: function (environment) {\n        console.log('beforeSend', arguments); // The environment object can still be modified here.\n        // var {data, method, headers, xhr, responseType} = environment;\n      },\n      beforeAll: function () {\n        console.log('beforeAll', arguments);\n      },\n      load: function () {\n        console.log('load', arguments);\n      },\n      error: function () {\n        console.log('error', arguments);\n        UIkit.notification({\n          message: 'Upload Failed!',\n          status: 'danger',\n          pos: 'top-right',\n          timeout: 5000\n        });\n      },\n      complete: function (e) {\n        console.log('complete', arguments);\n        var upload_response = e.responseText;\n        var upload_response_json = JSON.parse(upload_response);\n        console.log(upload_response_json.img_name);\n        filename = upload_response_json.img_name;\n        var pdfname = upload_response_json.pdf_name;\n        UIkit.notification({\n          message: 'Upload Completed!',\n          status: 'success',\n          pos: 'top-right',\n          timeout: 3000\n        }); // eslint-disable-next-line no-undef\n        //!#TODO auslagern in function detecttoarray\n\n        fetch(process.env.REACT_APP_API_GATEWAY_URL + \"serving/detecttoarray?filename=\" + filename).then(res => res.json()).then(result => {\n          console.log(result);\n          bar.value = bar.value + bar.value;\n          UIkit.notification({\n            message: 'Identify tags!',\n            status: 'success',\n            pos: 'top-right',\n            timeout: 2000\n          }); //!#TODO auslagern in function roiToText\n\n          var result_json = JSON.parse(JSON.stringify(result));\n          let formData = new FormData();\n          formData.append('filename', filename);\n          formData.append('json', JSON.stringify(result_json));\n          fetch(process.env.REACT_APP_API_GATEWAY_URL + \"ocr/roiToText\", {\n            method: 'post',\n            body: formData\n          }).then(res => res.json()).then(result => {\n            bar.value = bar.value + bar.value;\n            console.log(result); //!#TODO into extra function\n            //Set the D3 Data array with the putput of the gateway tf.serving instances\n            //that means the positions of the bounding boxes in D3.js\n            //!#TODO into extra function\n            //pass the koordinates of the tf.serving to the d3 model correktion Dialog window etc. popup for the bounding boxes\n\n            ReactDOM.render(React.createElement(Model_correction, {\n              inputData: result_json\n            }), document.getElementById(\"ID_Model_correction\")); //!#TODO if not (('identification' || 'customer') and 'type') exists in result => direct zur manuellen verarbeitung\n\n            var result_rep = result.replace(/'/g, '\"');\n            var jsonObj = JSON.parse(result_rep);\n\n            if (typeof jsonObj['type'] != 'undefined') {\n              var doc_type = jsonObj['type'];\n            } else {\n              var doc_type = \"\";\n            }\n\n            if (typeof jsonObj['identification'] != 'undefined') {\n              var doc_identification = jsonObj['identification'];\n            } else {\n              var doc_identification = \"\";\n            }\n\n            if (typeof jsonObj['customer'] != 'undefined') {\n              var doc_customer = jsonObj['customer'];\n            } else {\n              var doc_customer = \"\";\n            }\n\n            if (typeof jsonObj['header'] != 'undefined') {\n              var doc_header = jsonObj['header'];\n            } else {\n              var doc_header = \"\";\n            }\n\n            if (typeof jsonObj['content'] != 'undefined') {\n              var doc_content = jsonObj['content'];\n            } else {\n              var doc_content = \"\";\n            }\n\n            if (typeof doc_identification != 'undefined' && doc_identification.toLowerCase().match(\"auftr*agsnu*\")) {\n              var start = doc_identification.toLowerCase().search(\"auftr*agsnu*\"); //split from start to end and take the resulting string\n              // console.log(auftragsnummer);\n\n              var auftragsnummer = doc_identification.slice(start, start + 35);\n              console.log(start);\n              console.log(auftragsnummer); //only keep numbers\n\n              doc_identification = auftragsnummer.replace(/\\D/g, '');\n              console.log(doc_identification);\n            }\n\n            console.log(jsonObj); //#!TODO auslagern in externe Funktion um Werte zu schreiben.\n\n            var model = document.getElementById(\"modelDisplay\"); // Set the input fields\n\n            document.getElementById(\"input_type\").placeholder = doc_type;\n            document.getElementById(\"input_id\").placeholder = doc_identification;\n            document.getElementById(\"input_customer\").placeholder = doc_customer;\n            document.getElementById(\"input_content\").placeholder = doc_content;\n            document.getElementById(\"input_header\").placeholder = doc_header;\n            document.getElementById(\"text_type\").value = doc_type;\n            document.getElementById(\"text_identification\").value = doc_identification;\n            document.getElementById(\"text_customer\").value = doc_customer;\n            document.getElementById(\"text_header\").value = doc_header;\n            document.getElementById(\"text_content\").value = doc_content;\n            document.getElementById(\"imgId\").value = filename;\n\n            if (typeof pdfname != 'undefined') {\n              document.querySelector(\"#filePath\").value = pdfname;\n            } else {\n              document.querySelector(\"#filePath\").value = filename;\n            } //set the image src etc. url\n\n\n            document.querySelector(\"#documentPicture\").src = process.env.REACT_APP_API_GATEWAY_URL + \"tmp/\" + filename;\n            UIkit.modal(model).show();\n            UIkit.notification({\n              message: 'All Done!',\n              status: 'success',\n              pos: 'top-right',\n              timeout: 3000\n            });\n            bar.value = 0;\n          }, // Note: it's important to handle errors here\n          // instead of a catch() block so that we don't swallow\n          // exceptions from actual bugs in components.\n          error => {\n            UIkit.notification({\n              message: 'File detection failed!',\n              status: 'danger',\n              pos: 'top-right',\n              timeout: 5000\n            });\n            console.error(error);\n          });\n        }, // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        error => {\n          console.error(error);\n          UIkit.notification({\n            message: 'File detection failed!',\n            status: 'danger',\n            pos: 'top-right',\n            timeout: 5000\n          });\n        });\n      },\n      loadStart: function (e) {\n        console.log('loadStart', arguments);\n        bar.removeAttribute('hidden');\n        bar.max = e.total;\n        bar.value = e.loaded;\n      },\n      progress: function (e) {\n        console.log('progress', arguments);\n        bar.max = e.total;\n        bar.value = e.loaded / 3;\n      },\n      loadEnd: function (e) {\n        console.log('loadEnd', arguments);\n        bar.max = e.total;\n        bar.value = e.loaded / 3;\n      },\n      completeAll: function (e) {\n        var upload_response = e.responseText;\n        console.log('completeAll', arguments); //setTimeout(function () {\n        //    bar.setAttribute('hidden', 'hidden');\n        //}, 1000);\n      }\n    });\n  }\n\n  renderTable() {\n    return this.state.data.sort((a, b) => new Date(a.FILEDATE) - new Date(b.FILEDATE)).reverse().map((doc, index) => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"code\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, doc.FILENAME)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, doc.FILEDATE), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      class: \"uk-link-text\",\n      href: doc.FILEPATH,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, doc.FILEPATH.split('.').pop().toUpperCase())), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, doc.DOC_IDENTIFICATION.length > 0 && React.createElement(\"span\", {\n      className: \"uk-label\",\n      style: styleObjFileElement,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, doc.DOC_IDENTIFICATION), \" \", doc.DOC_TYPE.length > 0 && React.createElement(\"span\", {\n      className: \"uk-label\",\n      style: styleObjFileElement,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, doc.DOC_TYPE), \" \", doc.DOC_CUSTOMER.length > 0 && React.createElement(\"span\", {\n      className: \"uk-label\",\n      style: styleObjFileElement,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, doc.DOC_CUSTOMER), \" \", doc.DOC_CONTENT.length > 0 && React.createElement(\"span\", {\n      className: \"uk-label\",\n      style: styleObjFileElement,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, doc.DOC_CONTENT), \" \", doc.DOC_HEADER.length > 0 && React.createElement(\"span\", {\n      className: \"uk-label\",\n      style: styleObjFileElement,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, doc.DOC_HEADER))));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"uk-container\",\n      style: styleObj,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"Upload\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Datei ausw\\xE4hlen\"), React.createElement(\"div\", {\n      className: \"js-upload uk-placeholder uk-text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"uk-icon\": \"icon: cloud-upload\",\n      className: \"uk-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      width: \"20\",\n      height: \"20\",\n      viewBox: \"0 0 20 20\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      \"data-svg\": \"cloud-upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      fill: \"none\",\n      stroke: \"#000\",\n      strokeWidth: \"1.1\",\n      d: \"M6.5,14.61 L3.75,14.61 C1.96,14.61 0.5,13.17 0.5,11.39 C0.5,9.76 1.72,8.41 3.31,8.2 C3.38,5.31 5.75,3 8.68,3 C11.19,3 13.31,4.71 13.89,7.02 C14.39,6.8 14.93,6.68 15.5,6.68 C17.71,6.68 19.5,8.45 19.5,10.64 C19.5,12.83 17.71,14.6 15.5,14.6 L12.5,14.6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }), React.createElement(\"polyline\", {\n      fill: \"none\",\n      stroke: \"#000\",\n      points: \"7.25 11.75 9.5 9.5 11.75 11.75\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }), React.createElement(\"path\", {\n      fill: \"none\",\n      stroke: \"#000\",\n      d: \"M9.5,18 L9.5,9.5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }))), React.createElement(\"span\", {\n      className: \"uk-text-middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \" Ziehen Sie Dateien per Drag & Drop hinein oder \"), React.createElement(\"div\", {\n      \"uk-form-custom\": \"\",\n      className: \"uk-form-custom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      multiple: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"uk-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"w\\xE4hlen Sie eine Datei aus.\"))), React.createElement(\"progress\", {\n      id: \"js-progressbar\",\n      className: \"uk-progress\",\n      value: \"0\",\n      max: \"100\",\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \"Liste der verarbeiteten Dokumente\"), React.createElement(\"div\", {\n      className: \"uk-overflow-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"uk-table uk-table-striped uk-table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"Datum\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Download\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"Tags\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      id: \"noContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colspan: \"4\",\n      className: \"uk-text-middle uk-text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Bisher wurden noch keine Dateien hochgeladen.\")), this.renderTable()))), React.createElement(Model_display, {\n      childRef: this.myRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"ID_Model_correction\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Upload;","map":{"version":3,"sources":["/Users/i504430/OneDrive - SAP SE/SAP/Masterarbeit/tensorflow/workspace/frontend/src/upload.jsx"],"names":["React","Component","ReactDOM","UIkit","Model_display","Model_correction","styleObjFileElement","styleObjNoContent","weight","styleObj","padding","filename","Upload","constructor","props","state","data","componentDidMount","myHeaders","Headers","username","password","authString","append","btoa","requestOptions","method","headers","redirect","fetch","process","env","REACT_APP_API_HANA_DB_ODATA","then","response","json","result","setState","d","results","catch","error","console","log","bar","document","getElementById","upload","url","REACT_APP_API_GATEWAY_URL","dataType","name","multiple","allow","beforeSend","environment","arguments","beforeAll","load","notification","message","status","pos","timeout","complete","e","upload_response","responseText","upload_response_json","JSON","parse","img_name","pdfname","pdf_name","res","value","result_json","stringify","formData","FormData","body","render","createElement","inputData","result_rep","replace","jsonObj","doc_type","doc_identification","doc_customer","doc_header","doc_content","toLowerCase","match","start","search","auftragsnummer","slice","model","placeholder","querySelector","src","modal","show","loadStart","removeAttribute","max","total","loaded","progress","loadEnd","completeAll","renderTable","sort","a","b","Date","FILEDATE","reverse","map","doc","index","FILENAME","FILEPATH","split","pop","toUpperCase","DOC_IDENTIFICATION","length","DOC_TYPE","DOC_CUSTOMER","DOC_CONTENT","DOC_HEADER","myRef"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport ReactDOM from 'react-dom';\nimport * as UIkit from \"uikit\";\nimport Model_display from \"./model_display\";\nimport Model_correction from \"./model_correction\";\n\nconst styleObjFileElement = {\n    'max-width': '250px',\n    'white-space': 'nowrap',\n    'overflow': 'hidden',\n    'text-overflow': 'ellipsis'\n};\nconst styleObjNoContent = {\n    weight: '300px'\n};\nconst styleObj = {\n    padding: '30px'\n};\nvar filename;\n\nclass Upload extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n        }\n    }\n\n    componentDidMount() {\n        var myHeaders = new Headers();\n        var username = \"MLAAS_FRONTEND_USER\";\n        var password = \"NotUseMe4AnyThing&Else2\";\n        var authString = username+':'+password;\n        myHeaders.append(\"Authorization\", \"Basic \"+btoa(authString));\n        var requestOptions = {\n                method: 'GET',\n                headers: myHeaders,\n                redirect: 'follow'\n        };\n        fetch(process.env.REACT_APP_API_HANA_DB_ODATA+\"?$format=json\", requestOptions)\n                .then(response => response.json())\n                .then((result) => this.setState({data: result.d.results}))\n                .catch(error => console.log('error', error));\n\n        var bar = document.getElementById('js-progressbar');\n        UIkit.upload('.js-upload',{\n            url: process.env.REACT_APP_API_GATEWAY_URL + 'gateway/document',\n            dataType: 'form-data',\n            name: 'file',\n            multiple: false,\n            allow : '*.(jpg|jpeg|gif|png|pdf)', // allow only pdf and images\n\n            //funcitons executing during upload etc.\n\n            beforeSend: function (environment) {\n                console.log('beforeSend', arguments);\n\n                // The environment object can still be modified here.\n                // var {data, method, headers, xhr, responseType} = environment;\n\n            },\n            beforeAll: function () {\n                console.log('beforeAll', arguments);\n            },\n            load: function () {\n                console.log('load', arguments);\n            },\n            error: function () {\n                console.log('error', arguments);\n                UIkit.notification({message: 'Upload Failed!', status: 'danger', pos: 'top-right', timeout: 5000});\n            },\n            complete: function (e) {\n                console.log('complete', arguments);\n                var upload_response = e.responseText;\n                var upload_response_json = JSON.parse(upload_response);\n                console.log(upload_response_json.img_name);\n                filename = upload_response_json.img_name;\n                var pdfname = upload_response_json.pdf_name;\n                UIkit.notification({message: 'Upload Completed!', status: 'success', pos: 'top-right', timeout: 3000});\n                // eslint-disable-next-line no-undef\n\n                //!#TODO auslagern in function detecttoarray\n                fetch(process.env.REACT_APP_API_GATEWAY_URL + \"serving/detecttoarray?filename=\" + filename)\n                    .then(res => res.json())\n                    .then(\n                        (result) => {\n                            console.log(result);\n                            bar.value = bar.value + bar.value;\n                            UIkit.notification({message: 'Identify tags!', status: 'success', pos: 'top-right', timeout: 2000});\n                            //!#TODO auslagern in function roiToText\n                            var result_json = JSON.parse(JSON.stringify(result));\n                            let formData = new FormData();\n                            formData.append('filename', filename);\n                            formData.append('json', JSON.stringify(result_json));\n                            fetch(process.env.REACT_APP_API_GATEWAY_URL + \"ocr/roiToText\",{method: 'post',body: formData})\n                                .then(res => res.json())\n                                .then(\n                                    (result) => {\n                                        bar.value = bar.value + bar.value;\n                                        console.log(result);\n                                        //!#TODO into extra function\n                                        //Set the D3 Data array with the putput of the gateway tf.serving instances\n                                        //that means the positions of the bounding boxes in D3.js\n\n                                        //!#TODO into extra function\n                                        //pass the koordinates of the tf.serving to the d3 model correktion Dialog window etc. popup for the bounding boxes\n                                        ReactDOM.render(React.createElement(Model_correction,{inputData: result_json}), document.getElementById(\"ID_Model_correction\"));\n\n                                        //!#TODO if not (('identification' || 'customer') and 'type') exists in result => direct zur manuellen verarbeitung\n                                        var result_rep = result.replace(/'/g,'\"');\n                                        var jsonObj = JSON.parse(result_rep);\n                                        if (typeof jsonObj['type'] != 'undefined'){\n                                            var doc_type = jsonObj['type'];\n                                        } else {var doc_type = \"\"}\n                                        if (typeof jsonObj['identification'] != 'undefined'){\n                                            var doc_identification = jsonObj['identification'];\n                                        } else {var doc_identification = \"\"}\n                                        if (typeof jsonObj['customer'] != 'undefined'){\n                                            var doc_customer = jsonObj['customer'];\n                                        } else {var doc_customer = \"\"}\n                                        if (typeof jsonObj['header'] != 'undefined'){\n                                            var doc_header = jsonObj['header'];\n                                        } else {var doc_header = \"\"}\n                                        if (typeof jsonObj['content'] != 'undefined'){\n                                            var doc_content = jsonObj['content'];\n                                        } else {var doc_content = \"\"}\n                                        if ((typeof doc_identification != 'undefined') && (doc_identification.toLowerCase().match(\"auftr*agsnu*\"))) {\n                                            var start = doc_identification.toLowerCase().search(\"auftr*agsnu*\");\n                                            //split from start to end and take the resulting string\n                                            // console.log(auftragsnummer);\n                                            var auftragsnummer = doc_identification.slice(start, start+35);\n                                            console.log(start);\n                                            console.log(auftragsnummer);\n                                            //only keep numbers\n                                            doc_identification = auftragsnummer.replace(/\\D/g,'');\n                                            console.log(doc_identification);\n                                        }\n                                        console.log(jsonObj);\n\n                                        //#!TODO auslagern in externe Funktion um Werte zu schreiben.\n                                        var model = document.getElementById(\"modelDisplay\");\n                                        // Set the input fields\n                                        document.getElementById(\"input_type\").placeholder = doc_type;\n                                        document.getElementById(\"input_id\").placeholder = doc_identification;\n                                        document.getElementById(\"input_customer\").placeholder = doc_customer;\n                                        document.getElementById(\"input_content\").placeholder = doc_content;\n                                        document.getElementById(\"input_header\").placeholder = doc_header;\n\n                                        document.getElementById(\"text_type\").value = doc_type;\n                                        document.getElementById(\"text_identification\").value = doc_identification;\n                                        document.getElementById(\"text_customer\").value = doc_customer;\n                                        document.getElementById(\"text_header\").value = doc_header;\n                                        document.getElementById(\"text_content\").value = doc_content;\n                                        document.getElementById(\"imgId\").value = filename;\n                                        if(typeof pdfname != 'undefined'){\n                                            document.querySelector(\"#filePath\").value = pdfname;\n                                        } else {\n                                            document.querySelector(\"#filePath\").value = filename;\n                                        }\n                                        //set the image src etc. url\n                                        document.querySelector(\"#documentPicture\").src = process.env.REACT_APP_API_GATEWAY_URL + \"tmp/\" + filename;\n                                        UIkit.modal(model).show();\n                                        UIkit.notification({message: 'All Done!', status: 'success', pos: 'top-right', timeout: 3000});\n                                        bar.value = 0;\n                                    },\n                                    // Note: it's important to handle errors here\n                                    // instead of a catch() block so that we don't swallow\n                                    // exceptions from actual bugs in components.\n                                    (error) => {\n                                        UIkit.notification({message: 'File detection failed!', status: 'danger', pos: 'top-right', timeout: 5000});\n                                        console.error(error);\n                                    }\n                                )\n\n\n                        },\n                        // Note: it's important to handle errors here\n                        // instead of a catch() block so that we don't swallow\n                        // exceptions from actual bugs in components.\n                        (error) => {\n                            console.error(error);\n                            UIkit.notification({message: 'File detection failed!', status: 'danger', pos: 'top-right', timeout: 5000});\n                        }\n                    )\n\n\n            },\n\n            loadStart: function (e) {\n                console.log('loadStart', arguments);\n                bar.removeAttribute('hidden');\n                bar.max = e.total;\n                bar.value = e.loaded;\n            },\n\n            progress: function (e) {\n                console.log('progress', arguments);\n\n                bar.max = e.total;\n                bar.value = e.loaded / 3;\n            },\n\n            loadEnd: function (e) {\n                console.log('loadEnd', arguments);\n\n                bar.max = e.total;\n                bar.value = e.loaded / 3;\n            },\n\n            completeAll: function (e) {\n                var upload_response = e.responseText;\n                console.log('completeAll', arguments);\n\n                //setTimeout(function () {\n                //    bar.setAttribute('hidden', 'hidden');\n                //}, 1000);\n            }\n\n        });\n    }\n    renderTable(){\n        return (this.state.data.sort((a, b) => new Date(a.FILEDATE) - new Date(b.FILEDATE)).reverse().map((doc, index) => (\n                <tr>\n                    <td><code>{doc.FILENAME}</code></td>\n                    <td>{doc.FILEDATE}</td>\n                    <td><a class=\"uk-link-text\" href={doc.FILEPATH}>{doc.FILEPATH.split('.').pop().toUpperCase()}</a></td>\n                    <td>\n                        {doc.DOC_IDENTIFICATION.length > 0 && <span className=\"uk-label\" style={styleObjFileElement}>{doc.DOC_IDENTIFICATION}</span>} {doc.DOC_TYPE.length > 0 && <span className=\"uk-label\" style={styleObjFileElement}>{doc.DOC_TYPE}</span>} {doc.DOC_CUSTOMER.length > 0 && <span className=\"uk-label\" style={styleObjFileElement}>{doc.DOC_CUSTOMER}</span>} {doc.DOC_CONTENT.length > 0 && <span className=\"uk-label\" style={styleObjFileElement}>{doc.DOC_CONTENT}</span>} {doc.DOC_HEADER.length > 0 && <span className=\"uk-label\" style={styleObjFileElement}>{doc.DOC_HEADER}</span>}\n                    </td>\n                </tr>\n            )));\n    }\n\n    render() {\n\n        return (\n\n            <div className=\"uk-container\" style={styleObj}>\n\n                <h1>Upload</h1>\n\n                <h2>Datei auswählen</h2>\n\n                <div className=\"js-upload uk-placeholder uk-text-center\">\n                    <span uk-icon=\"icon: cloud-upload\" className=\"uk-icon\"><svg width=\"20\" height=\"20\"\n                                                                                viewBox=\"0 0 20 20\"\n                                                                                xmlns=\"http://www.w3.org/2000/svg\"\n                                                                                data-svg=\"cloud-upload\"><path\n                        fill=\"none\" stroke=\"#000\" strokeWidth=\"1.1\"\n                        d=\"M6.5,14.61 L3.75,14.61 C1.96,14.61 0.5,13.17 0.5,11.39 C0.5,9.76 1.72,8.41 3.31,8.2 C3.38,5.31 5.75,3 8.68,3 C11.19,3 13.31,4.71 13.89,7.02 C14.39,6.8 14.93,6.68 15.5,6.68 C17.71,6.68 19.5,8.45 19.5,10.64 C19.5,12.83 17.71,14.6 15.5,14.6 L12.5,14.6\"></path><polyline\n                        fill=\"none\" stroke=\"#000\" points=\"7.25 11.75 9.5 9.5 11.75 11.75\"></polyline><path fill=\"none\"\n                                                                                                           stroke=\"#000\"\n                                                                                                           d=\"M9.5,18 L9.5,9.5\"></path></svg></span>\n                    <span className=\"uk-text-middle\"> Ziehen Sie Dateien per Drag & Drop hinein oder </span>\n                    <div uk-form-custom=\"\" className=\"uk-form-custom\">\n                        <input type=\"file\" multiple=\"\"></input>\n                            <span className=\"uk-link\">wählen Sie eine Datei aus.</span>\n                    </div>\n                </div>\n\n                <progress id=\"js-progressbar\" className=\"uk-progress\" value=\"0\" max=\"100\" hidden></progress>\n\n                <h2>Liste der verarbeiteten Dokumente</h2>\n                <div className=\"uk-overflow-auto\">\n                    <table className=\"uk-table uk-table-striped uk-table-hover\">\n                        <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>Datum</th>\n                            <th>Download</th>\n                            <th>Tags</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr id=\"noContent\">\n                            <td colspan=\"4\" className=\"uk-text-middle uk-text-center\">Bisher wurden noch keine Dateien hochgeladen.</td>\n                        </tr>\n                        {this.renderTable()}\n                        </tbody>\n                    </table>\n\n                </div>\n            <Model_display childRef={this.myRef}/>\n            <div id=\"ID_Model_correction\"></div>\n        </div>\n        )\n    }\n\n\n}\n\n\nexport default Upload;"]},"metadata":{},"sourceType":"module"}